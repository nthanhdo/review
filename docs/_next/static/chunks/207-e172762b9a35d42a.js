(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[207],{477:()=>{},6612:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var l=t(5155),a=t(5565),r=t(6046),n=t(2115);function c(e){let{categories:s=[]}=e;return(0,l.jsxs)("div",{className:"dropdown",children:[(0,l.jsx)("label",{tabIndex:"999",className:"btn btn-ghost text-white",children:"Danh mục"}),(0,l.jsx)("ul",{tabIndex:"999",className:"dropdown-content menu shadow z-10 bg-base-100 border-gray-200 rounded-box",children:s.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/category/".concat(e.parent_category_id),children:e.parent_category_name})},e.parent_category_id))})]})}function i(){let e=(0,r.useSearchParams)(),[s,t]=(0,n.useState)(""),[i,d]=(0,n.useState)([]);return n.useEffect(()=>{e.get("keywords")&&t(e.get("keywords")),(async()=>{var e;let s=await fetch("https://api.alishopping.app/api/categories",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),t=await s.json();d((null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.categories)||[])})()},[s]),(0,l.jsxs)("header",{className:"bg-gradient-to-r from-purple-600 to-teal-500 shadow-md",children:[(0,l.jsxs)("div",{className:"mx-auto flex items-center justify-between py-4",children:[(0,l.jsx)("a",{className:"link ml-44",href:"/",children:(0,l.jsx)(a.default,{src:"/images/alishopping/logo-no-bg-1.png",alt:"Logo",width:96,height:200,alt:"AliShopping"})}),(0,l.jsxs)("div",{className:"flex items-center w-full max-w-5xl mx-auto",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search",className:"input input-bordered flex-grow rounded-l-md",value:s,onChange:e=>{t(e.target.value)}}),(0,l.jsx)("button",{className:"btn btn-primary rounded-r-md px-4",children:"Search"})]}),(0,l.jsx)("div",{className:"flex items-center space-x-4 mr-44",children:(0,l.jsx)("button",{className:"btn btn-ghost btn-circle",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405a2.032 2.032 0 00-.288-.305L15 17zm0 0l-4 4m4-4H5l1.405-1.405a2.032 2.032 0 0010-5H5m5 5H5"})})})})]}),(0,l.jsx)("div",{className:"mx-auto flex items-center justify-between bg-gradient-to-r from-purple-900 to-teal-400",children:(0,l.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[(0,l.jsx)(c,{categories:i}),(0,l.jsxs)("nav",{className:"flex space-x-6 text-white font-medium",children:[(0,l.jsx)("a",{className:"link link-hover",children:"SuperDeals"}),(0,l.jsx)("a",{className:"link link-hover",children:"Hot"})]})]})})]})}},796:(e,s,t)=>{"use strict";t.d(s,{default:()=>j});var l=t(5155),a=t(2115),r=t(6046),n=t(7478),c=t.n(n),i=t(4839),d=t.n(i);let o=e=>{let{product:s}=e,t=e=>e%2==0?"bg-gray-50":"bg-white";return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden flex flex-col h-full py-1",children:[(0,l.jsx)("div",{className:"skeleton h-48 bg-gray-200 flex justify-center items-center"}),(0,l.jsxs)("div",{className:"p-4 flex flex-col justify-between flex-1",children:[(0,l.jsx)("h2",{className:"skeleton text-lg font-semibold text-gray-800 mb-2 w-full h-6"}),(0,l.jsx)("table",{className:"w-full border border-gray-300 mb-4",children:(0,l.jsxs)("tbody",{className:"divide-y divide-gray-300",children:[(0,l.jsxs)("tr",{className:t(0),children:[(0,l.jsx)("td",{className:"py-2 px-4 text-green-500 text-lg",children:"\uD83D\uDCB2"}),(0,l.jsx)("td",{className:"py-2 px-4 text-gray-800 font-medium",children:(0,l.jsx)("div",{className:"skeleton h-4 w-32"})})]}),(0,l.jsxs)("tr",{className:t(1),children:[(0,l.jsx)("td",{className:"py-2 px-4 text-yellow-400 text-lg",children:"\uD83D\uDCC8"}),(0,l.jsx)("td",{className:"py-2 px-4 text-gray-800",children:(0,l.jsx)("div",{className:"skeleton h-4 w-32"})})]}),(0,l.jsxs)("tr",{className:t(2),children:[(0,l.jsx)("td",{className:"py-2 px-4 text-yellow-400 text-lg",children:"⭐"}),(0,l.jsx)("td",{className:"py-2 px-4 text-gray-800",children:(0,l.jsx)("div",{className:"skeleton h-4 w-32"})})]}),(0,l.jsxs)("tr",{className:t(1),children:[(0,l.jsx)("td",{className:"py-2 px-4 text-blue-500 text-lg",children:"\uD83C\uDFEC"}),(0,l.jsx)("td",{className:"py-2 px-4",children:(0,l.jsx)("div",{className:"skeleton h-4 w-32"})})]})]})}),(0,l.jsxs)("div",{className:"flex w-full",children:[(0,l.jsx)("div",{className:"skeleton h-12 w-1/2"}),(0,l.jsx)("div",{className:"divider divider-primary",children:"."}),(0,l.jsx)("div",{className:"skeleton h-12 w-1/2"})]})]})]})},x=e=>{let{product:s}=e,{product_title:t,product_main_image_url:r,target_app_sale_price:n,target_sale_price_currency:c,target_sale_price:i,discount:o,lastest_volume:x,sale_price_currency:m,evaluate_rate:h,shop_url:u}=s,p=e=>e%2==0?"bg-gray-50":"bg-white",g=t.length>15?t.slice(0,15)+"...":t,[j,f]=(0,a.useState)(!1),[y,b]=(0,a.useState)([]),[N,w]=(0,a.useState)(""),v=e=>{b(e),w(e[0]),f(!0)},k=()=>{f(!1),b([]),w("")};return(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&k()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden flex flex-col",children:[(0,l.jsxs)("div",{className:" bg-gray-200 flex justify-center items-center relative cursor-pointer max-h-[150px]",onClick:()=>v(s.product_small_image_urls.string),children:[(0,l.jsxs)("span",{title:"Discount",className:"absolute top-2 right-2 bg-red-500 text-white text-sm font-bold px-2 py-1 rounded",children:["-",o]}),(0,l.jsx)("img",{src:r,alt:t,width:150,height:150,className:"object-cover h-full w-full"})]}),(0,l.jsxs)("div",{className:"p-4 flex flex-col justify-between flex-1",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-2 truncate",title:t,children:g}),(0,l.jsx)("table",{className:"w-full border border-gray-300 mb-4",children:(0,l.jsxs)("tbody",{className:"divide-y divide-gray-300",children:[(0,l.jsxs)("tr",{className:p(0),children:[(0,l.jsx)("td",{className:"py-2 px-4 text-green-500 text-lg",children:c}),(0,l.jsx)("td",{className:"py-2 text-gray-800 font-medium",children:i})]}),(0,l.jsxs)("tr",{className:p(1),children:[(0,l.jsx)("td",{className:"py-2 px-4 text-yellow-400 text-lg",children:"\uD83D\uDCC8"}),(0,l.jsx)("td",{className:"py-2 text-gray-800",children:null!=x?x:0})]}),(0,l.jsxs)("tr",{className:p(2),children:[(0,l.jsx)("td",{className:"py-2 px-4 text-yellow-400 text-lg",children:"⭐"}),(0,l.jsx)("td",{className:"py-2 text-gray-800",children:h||(0,l.jsx)("span",{className:"text-green-600",children:"No reviews"})})]}),(0,l.jsxs)("tr",{className:p(1),children:[(0,l.jsx)("td",{className:"py-2 px-4 text-blue-500 text-lg",children:"\uD83C\uDFEC"}),(0,l.jsx)("td",{className:"py-2",children:(0,l.jsx)(d(),{href:u,target:"_blank",className:"text-blue-600 hover:underline",children:"Visit Shop"})})]})]})}),(0,l.jsxs)("div",{className:"flex w-full",children:[(0,l.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 w-1/2",children:"Detail"}),(0,l.jsx)("div",{className:"divider divider-primary",children:"."}),(0,l.jsx)("button",{className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 w-1/2",children:"Trace"})]})]}),j&&(0,l.jsx)("div",{id:"overlay",className:"modal modal-open",onClick:e=>{"overlay"===e.target.id&&k()},children:(0,l.jsxs)("div",{className:"modal-box w-full max-w-4xl relative",children:[(0,l.jsx)("button",{className:"btn btn-sm btn-circle absolute right-2 top-2",onClick:k,children:"✕"}),(0,l.jsx)("h3",{className:"text-lg font-bold mb-4",children:"H\xecnh ảnh sản phẩm"}),(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)("img",{src:N,alt:"Current",className:"w-full object-cover rounded-lg border"})}),(0,l.jsx)("div",{className:"flex flex-wrap lg:flex-col lg:w-48 lg:ml-4 mt-4 lg:mt-0",children:y.map((e,s)=>(0,l.jsx)("img",{src:e,alt:"Thumbnail ".concat(s),onClick:()=>w(e),className:"w-24 h-24 object-cover m-1 border-2 rounded-md cursor-pointer ".concat(e===N?"border-blue-500":"border-gray-300")},s))})]})]})})]})},m="".concat("https://api.alishopping.app"),h="201217706",u=["keywords","min_price","max_price","min_rating","min_latest_volume","sorts","page_no","page_size"],p=function(e,s,t){let l="".concat(e.toUpperCase()).concat(s).concat(t);return c().SHA256(l,"4wrvcdn5s9zu7806zwga891rhq5wgwrmnj2oywjq10w4vnuneo").toString()},g=async function(){var e;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="/api/products/dashboard",l=Date.now(),a=p("GET",t,l),r="".concat(m).concat(t,"?").concat(s.toString(),"&timestamp=").concat(l),n=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","as-sign":a}}),c=await n.json();return(null==c?void 0:null===(e=c.data)||void 0===e?void 0:e.products)||[]};function j(e){let{dashboard:s=!1,params:t={}}=e;(0,r.useRouter)();let n=(0,r.useSearchParams)(),c={};n.forEach((e,s)=>{c[s]=e});let[i,d]=(0,a.useState)((null==c?void 0:c.keywords)||null),[o,m]=(0,a.useState)((null==c?void 0:c.category_id)||h),[p,j]=a.useState([]),[y,b]=a.useState({});a.useEffect(()=>{if(s)N({});else{let{id:e}=t;console.log(e),m(e),N({category_ids:e})}},[y]);let N=async function(e){let{category_ids:s=null}=e,t=new URLSearchParams(w());t.delete("sorts"),s?t.append("category_ids",s):t.append("category_ids",h),(null==c?void 0:c.sorts)&&"string"==typeof c.sorts&&t.append("sorts[]",c.sorts),j(await g(t))},w=()=>{let e=Object.keys(c).filter(e=>u.includes(e));for(let s in c)e.includes(s)&&""!==c[s]||delete c[s];return c};return 0===p.length?(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5",children:(0,l.jsx)(f,{numbers:15})}):(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:p.map(e=>(0,l.jsx)(x,{product:e},e.product_id))})}function f(e){let{numbers:s=10}=e,t=[];for(let e=0;e<s;e++)t.push((0,l.jsx)(o,{},e));return t}}}]);