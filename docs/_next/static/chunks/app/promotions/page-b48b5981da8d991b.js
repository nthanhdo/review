(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{477:()=>{},767:(e,s,a)=>{Promise.resolve().then(a.bind(a,2077))},2077:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var t=a(5155),n=a(2115),l=a(7478),r=a.n(l);let i=async function(){var e,s;let a="/api/promotion",t=Date.now(),n=o("GET",a,t),l="".concat("https://api.alishopping.app").concat(a,"?timestamp=").concat(t,"&fields=web1"),r=await fetch(l,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","as-sign":n},withCredentials:!0}),i=await r.json(),c=[];if(null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.promotions)for(let e of null==i?void 0:null===(s=i.data)||void 0===s?void 0:s.promotions)e.product_num&&c.push(e);return c},o=function(e,s,a){let t="".concat(e.toUpperCase()).concat(s).concat(a);return r().SHA256(t,"4wrvcdn5s9zu7806zwga891rhq5wgwrmnj2oywjq10w4vnuneo").toString()};var c=a(6612),d=a(4163);let h=()=>(0,t.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,t.jsx)("div",{className:"w-16 h-16 border-8 border-dashed border-primary rounded-full border-t-transparent animate-spin"})}),m=e=>{let{promotionsData:s}=e,[a,l]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),[o,c]=(0,n.useState)(s||[]),[d,h]=(0,n.useState)(!0),[m,p]=(0,n.useState)({});console.log({promotionsData:s,filteredPromotions:o}),(0,n.useEffect)(()=>{c(s)},[]);let u=e=>{i(e),c([...o].sort((s,a)=>"asc"===e?s.product_num-a.product_num:"desc"===e?a.product_num-s.product_num:0))},x=e=>{let{name:s,maxInitials:a=2}=e,n=s.replace(/[^a-zA-Z0-9 ]/g," ").replace(/_/g," ").split(" ").filter(e=>e.length>0).map(e=>e.charAt(0).toUpperCase()).slice(0,a).join("");return(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"avatar placeholder",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-primary text-primary-content rounded-box w-24 h-24",children:(0,t.jsx)("span",{className:"text-xl font-bold",children:n})})})})};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 items-center justify-between",children:[(0,t.jsx)("input",{type:"text",value:a,onChange:e=>{let a=e.target.value.toLowerCase();l(a),c(s.filter(e=>e.promo_name.toLowerCase().includes(a)).sort((e,s)=>"asc"===r?e.product_num-s.product_num:"desc"===r?s.product_num-e.product_num:0))},placeholder:"Search promotions...",className:"input input-bordered w-full max-w-lg"}),(0,t.jsx)("div",{className:"flex gap-2 swap swap-flip text-9xl",children:(0,t.jsx)("button",{onClick:()=>{h(!d),u(d?"asc":"desc")},className:"swap-off text-primary w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-5 h-5",children:d?(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"}):(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})})]}),(0,t.jsx)("div",{className:"space-y-4",children:o.length>0?o.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center p-4 border rounded-lg bg-base-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"w-24 h-24 flex-shrink-0",children:[(0,t.jsx)(x,{name:e.promo_name,maxInitials:2})," "]}),(0,t.jsxs)("div",{className:"ml-4 flex-grow",children:[(0,t.jsx)("h2",{className:"text-lg font-bold",children:e.promo_name}),(0,t.jsx)("p",{className:"text-gray-600",children:e.promo_desc}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Products: ",e.product_num]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("a",{href:"/promotions/".concat(s),className:"link link-info",children:"View Details"})})]},s)):(0,t.jsx)("p",{className:"text-gray-500",children:"No promotions found."})})]})},p=()=>{let[e,s]=(0,n.useState)(""),[a,l]=(0,n.useState)({data:[],loading:!0}),[r,o]=(0,n.useState)([]),[p,u]=(0,n.useState)("desc"),[x,j]=(0,n.useState)({});n.useEffect(()=>{l({data:[],loading:!0}),g()},[x]);let g=async function(){let e=await i();e.sort((e,s)=>"asc"===p?e.product_num-s.product_num:"desc"===p?s.product_num-e.product_num:0),l({data:e,loading:!1}),o(e),console.log({response:e,promotionData:r})};return(0,t.jsx)(n.Suspense,{children:(0,t.jsxs)("div",{className:"min-h-screen","data-theme":"light",children:[(0,t.jsx)(c.default,{}),(0,t.jsx)("div",{className:"container p-6",children:(0,t.jsx)("img",{src:"/images/alishopping/promotions/banner_01.png",alt:"Image",className:"h-42 w-full"})}),(0,t.jsx)("div",{className:"p-6",children:r.length>0?(0,t.jsx)(m,{promotionsData:r}):(0,t.jsx)(h,{})}),(0,t.jsx)(d.A,{})]})})}},6612:(e,s,a)=>{"use strict";a.d(s,{default:()=>o});var t=a(5155),n=a(5565),l=a(6046),r=a(2115);function i(e){let{categories:s=[]}=e;return(0,t.jsxs)("div",{className:"dropdown",children:[(0,t.jsx)("label",{tabIndex:"999",className:"btn btn-ghost text-white",children:"Danh má»¥c"}),(0,t.jsx)("ul",{tabIndex:"999",className:"dropdown-content menu shadow z-10 bg-base-100 border-gray-200 rounded-box",children:s.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"/category/".concat(e.parent_category_id),children:e.parent_category_name})},e.parent_category_id))})]})}function o(){let e=(0,l.useSearchParams)(),[s,a]=(0,r.useState)(""),[o,c]=(0,r.useState)([]);return r.useEffect(()=>{e.get("keywords")&&a(e.get("keywords")),(async()=>{var e;let s=await fetch("https://api.alishopping.app/api/categories",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),a=await s.json();c((null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.categories)||[])})()},[s]),(0,t.jsxs)("header",{className:"bg-gradient-to-r from-purple-600 to-teal-500 shadow-md",children:[(0,t.jsxs)("div",{className:"mx-auto flex items-center justify-between py-4",children:[(0,t.jsx)("a",{className:"link ml-44",href:"/",children:(0,t.jsx)(n.default,{src:"/images/alishopping/logo-no-bg-1.png",alt:"Logo",width:96,height:200,alt:"AliShopping"})}),(0,t.jsxs)("div",{className:"flex items-center w-full max-w-5xl mx-auto",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search",className:"input input-bordered flex-grow rounded-l-md",value:s,onChange:e=>{a(e.target.value)}}),(0,t.jsx)("button",{className:"btn btn-primary rounded-r-md px-4",children:"Search"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-4 mr-44",children:(0,t.jsx)("button",{className:"btn btn-ghost btn-circle",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405a2.032 2.032 0 00-.288-.305L15 17zm0 0l-4 4m4-4H5l1.405-1.405a2.032 2.032 0 0010-5H5m5 5H5"})})})})]}),(0,t.jsx)("div",{className:"mx-auto flex items-center justify-between bg-gradient-to-r from-purple-900 to-teal-400",children:(0,t.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[(0,t.jsx)(i,{categories:o}),(0,t.jsxs)("nav",{className:"flex space-x-6 text-white font-medium",children:[(0,t.jsx)("a",{className:"link link-hover",children:"SuperDeals"}),(0,t.jsx)("a",{className:"link link-hover",children:"Hot"})]})]})})]})}},4163:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});var t=a(5155);function n(){return(0,t.jsxs)("footer",{className:"footer bg-base-200 text-base-content p-10",children:[(0,t.jsxs)("aside",{children:[(0,t.jsx)("svg",{width:"50",height:"50",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",className:"fill-current",children:(0,t.jsx)("path",{d:"M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"})}),(0,t.jsxs)("p",{children:["AliShopping Team",(0,t.jsx)("br",{}),"Providing reliable tools for Dropshipping"]})]}),(0,t.jsxs)("nav",{children:[(0,t.jsx)("h6",{className:"footer-title",children:"Services"}),(0,t.jsx)("a",{className:"link link-hover",children:"Branding"}),(0,t.jsx)("a",{className:"link link-hover",children:"Design"}),(0,t.jsx)("a",{className:"link link-hover",children:"Marketing"}),(0,t.jsx)("a",{className:"link link-hover",children:"Advertisement"})]}),(0,t.jsxs)("nav",{children:[(0,t.jsx)("h6",{className:"footer-title",children:"Company"}),(0,t.jsx)("a",{className:"link link-hover",children:"About us"}),(0,t.jsx)("a",{className:"link link-hover",children:"Contact"}),(0,t.jsx)("a",{className:"link link-hover",children:"Jobs"}),(0,t.jsx)("a",{className:"link link-hover",children:"Press kit"})]}),(0,t.jsxs)("nav",{children:[(0,t.jsx)("h6",{className:"footer-title",children:"Legal"}),(0,t.jsx)("a",{className:"link link-hover",children:"Terms of use"}),(0,t.jsx)("a",{className:"link link-hover",children:"Privacy policy"}),(0,t.jsx)("a",{className:"link link-hover",children:"Cookie policy"})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[970,156,441,517,358],()=>s(767)),_N_E=e.O()}]);